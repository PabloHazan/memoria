(this["webpackJsonpmemoria-2021"]=this["webpackJsonpmemoria-2021"]||[]).push([[0],{158:function(e,n,t){},231:function(e,n,t){"use strict";t.r(n);t(142),t(152),t(153);var c,r=t(0),a=t.n(r),o=t(21),i=t.n(o),u=(t(158),t(11)),s=t(86),l=t.n(s),j=t(124),b=t(33),O=t.n(b),d=t(38),f=t(125),h=t(30),m=t(8),p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(m.a)(Object(m.a)({},e),n)},g=function(e){return function(n){return{type:e,data:n}}},v=function(e,n){return function(){var t,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,a=r.type,o=r.data;return p(c,null===(t=n[a])||void 0===t?void 0:t.call(n,{state:c,data:o}))}};!function(e){e.SET_HOME="SET_HOME",e.SET_SELECTED_PHOTO="SET_SELECTED_PHOTO"}(c||(c={}));var x,C,w=g(c.SET_HOME),L=g(c.SET_SELECTED_PHOTO),E=(g(c.SET_SELECTED_PHOTO),v({selected:null,home:null},(x={},Object(h.a)(x,c.SET_HOME,(function(e){return{home:e.data}})),Object(h.a)(x,c.SET_SELECTED_PHOTO,(function(e){return{selected:e.data}})),x)));!function(e){e.LOADING_ON="LOADING_ON",e.LOADING_OFF="LOADING_OFF",e.FULL_LOADING_OFF="FULL_LOADING_OFF"}(C||(C={}));var k,_=g(C.LOADING_ON),y=g(C.LOADING_OFF),I=(g(C.FULL_LOADING_OFF),v({currentLoader:0},(k={},Object(h.a)(k,C.LOADING_ON,(function(e){return{currentLoader:e.state.currentLoader+1}})),Object(h.a)(k,C.LOADING_OFF,(function(e){return{currentLoader:e.state.currentLoader-1}})),Object(h.a)(k,C.FULL_LOADING_OFF,(function(){return{currentLoader:0}})),k))),A=Object(d.c)({loader:I,photo:E}),F=Object(d.d)(A,Object(d.a)(f.a)),D=function(e){return F.dispatch(e)};O.a.defaults.baseURL="/api/";var S=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(_()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(e){return D(y()),e};O.a.interceptors.request.use((function(e){return S(e)})),O.a.interceptors.response.use((function(e){return N(e)}),(function(e){return function(e){return N(e.response),Promise.reject(e)}(e)}));var T,G,R,P,H,U,z,M=t(4),B=t(49),V=t(10),q=t(91),J=t(34),Z=function(e){return e.photo},$=Object(J.a)(Z,(function(e){return e.home})),K=Object(J.a)($,(function(e){return(null===e||void 0===e?void 0:e.images)||[]})),Q=Object(J.a)($,(function(e){return(null===e||void 0===e?void 0:e.round)||[]})),W=Object(J.a)(K,Q,(function(e,n){return[].concat(Object(q.a)(e),Object(q.a)(n))})),X=Object(J.a)(Z,(function(e){return e.selected})),Y=function(){var e=Object(V.b)(),n=Object(V.c)($);return Object(r.useEffect)((function(){n||O.a.get("photos").then((function(n){var t=n.data;e(w(t))}))}),[]),n},ee=t(69),ne=t(246),te=t(12),ce=t(136),re=t(2),ae=function(e){var n=e.src,t=e.loadingOn,c=e.loadingOff,a=Object(ce.a)(e,["src","loadingOn","loadingOff"]);return Object(r.useEffect)((function(){n&&t()}),[n]),Object(re.jsx)("img",Object(m.a)(Object(m.a)({},a),{},{src:n,onLoad:c,onError:c}))},oe=function(e){var n=Object(V.b)(),t=Object(r.useCallback)((function(){return n(_())}),[n]),c=Object(r.useCallback)((function(){return n(y())}),[n]);return Object(re.jsx)(ae,Object(m.a)({loadingOn:t,loadingOff:c},e))},ie=Object(te.a)(ne.a)(T||(T=Object(u.a)(["\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: 100%;\n    width: 100%;\n    overflow: hidden;\n"])),(function(e){return e.url})),ue=Object(te.a)(oe)(G||(G=Object(u.a)(["\n    opacity: 0.0;\n    transition: transform 0.2s;\n    &:hover {\n        transform: scale(1.5);\n        opacity: 0.85;\n        z-index: 2;\n        /* border-style: solid;\n        border-width: 5px;\n        border-color: white; */\n    }\n"]))),se=te.a.section(R||(R=Object(u.a)(['\n    margin: 0 20px 1.6em;\n    padding: 1.6em;\n    background: #eeece8;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #A7CCD6;\n    font-family: "Archivo Narrow","Helvetica Neue",Helvetica,Arial,sans-serif;\n']))),le=te.a.h2(P||(P=Object(u.a)(["\n    font-size: 24px;\n    margin: 0 0 .8em;\n    line-height: 1.1;\n"]))),je=Object(te.a)(ne.a)(H||(H=Object(u.a)(["\n    overflow-x: auto;\n    overflow-y: hidden;\n    &&::-webkit-scrollbar-track {\n        border: 1px solid #A7CCD6;\n        padding: 2px 0;\n        background-color: #e3eef1;\n    }\n\n    &&::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    &&::-webkit-scrollbar-thumb {\n        border-radius: 10px;\n        box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n        background-color: #A7CCD6;\n        border: 1px solid #d7b221;\n    }\n"]))),be=Object(te.a)(oe)(U||(U=Object(u.a)(["\n    transition: transform 0.2s;\n    width: 100%;\n    max-width: 15vh;\n    height: auto;\n    &:hover {\n        transform: scale(1.5);\n        z-index: 2;\n    }\n"])));!function(e){e.ROUND_SRC="ronda",e.COLLAGE_SRC="collage"}(z||(z={}));var Oe,de,fe,he,me,pe,ge,ve=t(256),xe=t(248),Ce=t(249),we=t(250),Le=t(251),Ee=Object(r.createContext)({}),ke=Ee.Provider,_e=function(){return Object(r.useContext)(Ee).audioControl},ye=function(e){var n=e.images,t=e.backgroundImagePath,c=e.showImage,a=e.imagesByRow,o=e.roundImages,i=_e(),u=i.isPlaying,s=i.toggle,l=Object(r.useState)(!1),j=Object(ee.a)(l,2),b=j[0],O=j[1],d=b?xe.a:Ce.a,f=u?we.a:Le.a;return Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)(ne.a,{container:!0,direction:"column",spacing:3,children:[Object(re.jsxs)(ne.a,{item:!0,container:!0,wrap:"wrap",alignContent:"space-between",spacing:3,children:[Object(re.jsxs)(ne.a,{item:!0,sm:12,md:b?12:8,container:!0,direction:"column",children:[Object(re.jsx)(ie,{url:t,container:!0,direction:"row",justify:"flex-start",alignItems:"center",wrap:"wrap",item:!0,children:null===n||void 0===n?void 0:n.map((function(e){var n=e.name,t=e.url;return Object(re.jsx)(ue,{src:t,width:"".concat(100/a,"%"),onClick:function(){return c(z.COLLAGE_SRC,n)}},n)}))}),Object(re.jsxs)(ne.a,{item:!0,container:!0,justify:"flex-end",children:[Object(re.jsx)(ve.a,{onClick:s,children:Object(re.jsx)(f,{})}),Object(re.jsx)(ve.a,{onClick:function(){return O(!b)},children:Object(re.jsx)(d,{})})]})]}),Object(re.jsx)(ne.a,{item:!0,xs:!0,children:Object(re.jsxs)(se,{children:[Object(re.jsx)(le,{children:"Homenaje 2021"}),Object(re.jsx)("div",{children:Object(re.jsx)("p",{children:"Pasando el mouse sobre cualquier parte de las im\xe1genes podr\xe1s ver el detalle de cada fotograf\xeda enviada y haciendo click acceder a la misma."})})]})})]}),Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsx)(je,{item:!0,container:!0,direction:"row",justify:"flex-start",alignContent:"center",wrap:"nowrap",children:null===o||void 0===o?void 0:o.map((function(e){var n=e.name,t=e.url;return Object(re.jsx)(be,{src:t,onClick:function(){return c(z.ROUND_SRC,n)}},n)}))})})]})})},Ie=function(e){var n=e.props,t=Y(),c=Object(M.g)(),a=Object(r.useCallback)((function(e,n){c.push(Ue(e,btoa(n)))}),[]);return Object(re.jsx)(ye,Object(m.a)(Object(m.a)({},n),{},{images:null===t||void 0===t?void 0:t.images,roundImages:null===t||void 0===t?void 0:t.round,backgroundImagePath:null===t||void 0===t?void 0:t.backgroundImage,imagesByRow:null===t||void 0===t?void 0:t.imagesByRow,showImage:a,sound:null===t||void 0===t?void 0:t.sound}))},Ae=t(252),Fe=t(253),De={repeat:!1},Se=function(e){return Object(m.a)(Object(m.a)({},De),e)},Ne=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Se(n);var t=Object(r.useState)(!1),c=Object(ee.a)(t,2),a=c[0],o=c[1],i=Object(r.useMemo)((function(){return e?new Audio(e):void 0}),[e]),u=Object(r.useCallback)((function(){i&&(i.play(),o(!0))}),[i]),s=Object(r.useCallback)((function(){i&&(i.pause(),i.currentTime=0,o(!1))}),[e]),l=Object(r.useCallback)((function(){i&&(a?s():u())}),[i,a]),j=Object(r.useCallback)((function(e){i&&(i.volume=e)}),[i]);Object(r.useEffect)((function(){if(i)return u(),s}),[i]),Object(r.useEffect)((function(){i&&(i.loop=n.repeat)}),[i,n.repeat]);var b=Object(V.b)();return Object(r.useEffect)((function(){i&&(b(_()),i.addEventListener("loadeddata",(function(){return b(y())}),!1))}),[i]),{play:u,pause:s,toggle:l,isPlaying:a,setVolume:j}},Te=Object(te.a)(oe)(Oe||(Oe=Object(u.a)(["\n    max-width: 100vh;\n    max-height: 75vh;\n    height: auto;\n    width: auto;\n"]))),Ge=te.a.p(de||(de=Object(u.a)(['\n    font-size: 18px;\n    line-height: 1.4;\n    color: #d7b221;\n    font-family: "Archivo Narrow","Helvetica Neue",Helvetica,Arial,sans-serif;\n']))),Re=function(e){var n,t,c=e.image,a=e.next,o=e.back,i=e.clean,u=_e().setVolume,s=Ne(null===c||void 0===c?void 0:c.sound).isPlaying;return Object(r.useEffect)((function(){if(s)return u(.5),function(){return u(1)}}),[s]),Object(r.useEffect)((function(){return i}),[]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(ne.a,{container:!0,direction:"column",alignItems:"center",children:Object(re.jsx)(Ge,{children:null!==(n=null===c||void 0===c||null===(t=c.name.match(/^[A-Z,a-z,0-9]+-(.*)\.jpg$/))||void 0===t?void 0:t[1])&&void 0!==n?n:""})}),Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsxs)(ne.a,{item:!0,container:!0,direction:"row",alignItems:"center",justify:"center",spacing:3,children:[Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsx)(ve.a,{onClick:o,children:Object(re.jsx)(Ae.a,{})})}),Object(re.jsx)(ne.a,{item:!0,children:(null===c||void 0===c?void 0:c.url)&&Object(re.jsx)(Te,{src:c.url})}),Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsx)(ve.a,{onClick:a,children:Object(re.jsx)(Fe.a,{})})})]})})]})},Pe=function(e){var n=Object(V.b)(),t=Object(r.useCallback)((function(){return n(L())}),[n]),c=Object(M.i)(),a=c.src,o=c.name,i=Object(M.g)(),u=function(e,n){var t=Object(V.b)(),c=Object(V.c)(X);return Object(r.useEffect)((function(){O.a.get("photos/".concat(e,"?src=").concat(n)).then((function(e){var n=e.data,c=new Array(n.url);n.sound&&c.push(n.sound),t(L(n))}))}),[e,n]),c}(atob(o),a),s=Object(V.c)(W),l=Object(V.c)(K),j=Object(r.useCallback)((function(){var e=s.findIndex((function(e){return e.name===u.name}))+1;t();var n=s[e===s.length?0:e],c=l.some((function(e){return e.name===n.name}))?z.COLLAGE_SRC:z.ROUND_SRC;i.push(Ue(c,btoa(n.name)))}),[s,u]),b=Object(r.useCallback)((function(){var e=s.findIndex((function(e){return e.name===u.name}))-1;t();var n=s[-1===e?s.length-1:e],c=l.some((function(e){return e.name===n.name}))?z.COLLAGE_SRC:z.ROUND_SRC;i.push(Ue(c,btoa(n.name)))}),[s,u]);return Object(re.jsx)(Re,Object(m.a)(Object(m.a)({},e),{},{image:u,next:j,back:b,clean:t}))},He="/collage",Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":src",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":name";return"/photo/".concat(e,"/").concat(n)},ze=[{path:He,component:Ie},{path:Ue(),component:Pe},{path:"**",component:function(e){return Object(re.jsx)(M.a,{to:He})}}],Me=t(255),Be=t(135),Ve=te.a.div(fe||(fe=Object(u.a)(["\n    width: 100%;\n"]))),qe=te.a.a(he||(he=Object(u.a)(["\n    color: #d7b221;\n    font-family: sans-serif;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    display: block;\n    font-weight: 700;\n    text-decoration: none;\n    cursor: pointer;\n"]))),Je=te.a.img(me||(me=Object(u.a)(["\n    cursor: pointer;\n"]))),Ze=function(e){Object(Be.a)(e);var n=Object(M.h)(),t=Object(M.g)(),c=Object(r.useMemo)((function(){return n.pathname===He?"https://homenajealamemoria.wordpress.com/":void 0}),[n.pathname]),a=Object(r.useCallback)((function(){c||t.goBack()}),[c,t]),o=Object(r.useCallback)((function(){t.push(He)}),[t]);return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(Ve,{children:Object(re.jsxs)(ne.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(re.jsx)(Je,{src:"https://homenajealamemoria.files.wordpress.com/2021/03/isologos_180.png",onClick:o}),Object(re.jsx)(qe,{href:c,onClick:a,children:"Volver"})]})})})},$e=t(257),Ke=t(254),Qe=Object(te.a)($e.a)(pe||(pe=Object(u.a)(["\n    color: '#fff';\n    z-index: 10 !important;\n"]))),We=function(e){var n=e.loading;return Object(re.jsx)(Qe,{open:n,children:Object(re.jsx)(Ke.a,{style:{color:"#A7CCD6"}})})},Xe=Object(J.a)((function(e){return e.loader}),(function(e){return e.currentLoader>0})),Ye=function(e){var n=Object(V.c)(Xe);return Object(re.jsx)(We,Object(m.a)(Object(m.a)({},e),{},{loading:n}))},en=function(e){var n=e.config,t=Ne(null===n||void 0===n?void 0:n.sound,{repeat:!0});return Object(re.jsx)(ke,{value:{audioControl:t},children:Object(re.jsxs)(ne.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:2,children:[Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsx)(Ze,{})}),Object(re.jsx)(ne.a,{item:!0,children:Object(re.jsx)(M.d,{children:n&&ze.map((function(e,n){var t=e.path,c=e.component;return Object(re.jsx)(M.b,{path:t,component:c},n)}))})})]})})},nn=function(){var e=Y();return Object(re.jsx)(en,{config:e})},tn=Object(te.a)((function(){return Object(re.jsx)(V.a,{store:F,children:Object(re.jsx)(Me.a,{children:Object(re.jsxs)(B.a,{children:[Object(re.jsx)(Ye,{}),Object(re.jsx)(nn,{})]})})})}))(ge||(ge=Object(u.a)(["\n  /* margin: 100px 100px; */\n"]))),cn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,259)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};t(188);i.a.render(Object(re.jsx)(a.a.StrictMode,{children:Object(re.jsx)(tn,{})}),document.getElementById("root")),cn()}},[[231,1,2]]]);
//# sourceMappingURL=main.cb557861.chunk.js.map